{{!-- Draw a vertical line from the base of the title to the last folder --}}
{{#if spacing}}
<rect x="0" y="{{scale}}" width="3" height="{{multiply scale (last spacing)}}" fill="#000" />
{{/if}}

<text x="0" y="{{scale}}" class="standard">{{name}}</text>
{{#each files}}
{{!-- All text elements must be shifted 1 down to avoid being cut off --}}
<text x="{{../scale}}" y="{{multiply (add 2 @index) ../scale}}" class="standard">{{name}}</text>
{{/each}}

{{#if folders}}
{{#each folders}}
{{!-- Draw a horizontal line from the vertical line to each folder --}}
<rect x="0" y="{{alignHalfScaleUp (lookup ../spacing @index) ../scale}}" width="{{../scale}}" height="3" fill="#000" />
<svg x="{{../scale}}" y="{{multiply (lookup ../spacing @index) ../scale}}">
  {{> displayFolder scale=../scale depth=(add ../depth 1)}}
</svg>
{{/each}}
{{/if}}